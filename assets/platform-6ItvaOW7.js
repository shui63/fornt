import{u as J,T as D}from"./counter-C7Kmk1T6.js";import{_ as I,c as S,b as a,F as W,g as Q,e as L,t as $,r as v,o as F,i as K,w as H,a as ee,s as te,C as be,D as _e,y as we,u as Y,z as Le,E as j,h as Ce,x as Xe,B as ae,A as X}from"./index-C2YSL6ue.js";const Me={class:"bottom-left"},Oe={class:"left-item"},Ee={class:"item1"},Re={class:"left-item"},Te={class:"item1"},Ae={__name:"headcount",props:{data:{type:Array,required:!0,default:()=>[]}},setup(g){return(r,l)=>(L(),S("div",Me,[a("div",Oe,[(L(!0),S(W,null,Q(g.data[0],(i,c)=>(L(),S("div",Ee,[a("span",null,$(i.name),1),a("span",null,$(i.value),1)]))),256))]),a("div",Re,[(L(!0),S(W,null,Q(g.data[1],(i,c)=>(L(),S("div",Te,[a("span",null,$(i.name),1),a("span",null,$(i.value),1)]))),256))])]))}},ke=I(Ae,[["__scopeId","data-v-09bede0b"]]),Be={__name:"StatisticsOfProductSalesTypes",props:{data:{type:Object}},setup(g){const r=v(null);let l=null;const i=()=>{l.resize()};return F(()=>{l=K(r.value),l.setOption(g.data),window.addEventListener("resize",i)}),H(()=>g.data,c=>{l&&c&&l.setOption(c,!0)},{deep:!0}),ee(()=>{window.removeEventListener("resize",i),l.dispose()}),(c,A)=>(L(),S("div",{class:"StatisticsOfProductSalesTypes-box",ref_key:"chart",ref:r},null,512))}},ye=I(Be,[["__scopeId","data-v-2adf0696"]]),Ie={__name:"BreederStatistics",props:{data:{type:Object}},setup(g){const r=v(null);let l=null;const i=()=>{l.resize()};return F(()=>{l=K(r.value),l.setOption(g.data),window.addEventListener("resize",i)}),H(()=>g.data,c=>{l&&c&&l.setOption(c,!0)},{deep:!0}),ee(()=>{window.removeEventListener("resize",i),l.dispose()}),(c,A)=>(L(),S("div",{class:"bottom-right",ref_key:"chartRef",ref:r},null,512))}},$e=I(Ie,[["__scopeId","data-v-ec03b859"]]),Fe={__name:"BreederStatisticstuli",props:{data:{type:Object}},setup(g){const r=v(null);let l=null;const i=()=>{l.resize()};return F(()=>{l=K(r.value),l.setOption(g.data),window.addEventListener("resize",i)}),H(()=>g.data,c=>{l&&c&&l.setOption(c,!0)},{deep:!0}),ee(()=>{window.removeEventListener("resize",i),l.dispose()}),(c,A)=>(L(),S("div",{class:"bottom-right",ref_key:"chartRef",ref:r},null,512))}},Pe=I(Fe,[["__scopeId","data-v-81947627"]]),De="/assets/mapbg-CWgQUF2b.png",Z=8,Ye={__name:"map",setup(g){const r=J(),{flag:l,flagVillage:i,isFlagOn:c,isVillageOn:A}=te(r),n=v(null),R=v(null);let s=null;const C=[{type:1,color:"rgba(255,255,255,1)"},{type:2,color:"rgba(29,249,252,1)"}],_=[],d={count:3,duration:1.8,maxRadius:60,minRadius:20};let o=1,y=0,k=0,u=1,V=.5,O=3,w=0,x=0,E=0,G=0,P=!1,z=null,q=null;function se(t,e){return`rgba(${t.match(/\d+,\d+,\d+/)},${e})`}function xe(){if(s){_.length=0;for(let t=0;t<C.length;t++)for(let e=0;e<20;e++)_.push({x:Math.random()*s.width,y:Math.random()*s.height,type:C[t].type,color:C[t].color,phaseOffset:Math.random()*d.duration})}}function ne(){const t=n.value;!t||!s||(o=Math.min(t.width/s.width,t.height/s.height),y=(t.width-s.width*o)/2,k=(t.height-s.height*o)/2)}function le(){const t=R.value,e=n.value;if(!t||!e||!s)return;const f=t.clientWidth,h=t.clientHeight;e.width=f,e.height=h,ne(),xe()}function ie(){const t=n.value;if(!t||!s)return;const e=t.getContext("2d"),{width:f,height:h}=t;e.clearRect(0,0,f,h),e.save(),e.translate(w,x),e.scale(u,u),e.drawImage(s,y/u,k/u,s.width*o,s.height*o);const M=performance.now()/1e3;for(const m of _){const p=y/u+m.x*o,b=k/u+m.y*o;for(let B=0;B<d.count;B++){const N=d.duration/d.count*B;let T=(M+m.phaseOffset-N)%d.duration;T<0&&(T+=d.duration);const ge=T/d.duration,he=d.minRadius+(d.maxRadius-d.minRadius)*ge,Se=.5*(1-ge);let U=e.createRadialGradient(p,b,0,p,b,he);U.addColorStop(0,se(m.color,.1)),U.addColorStop(1,se(m.color,.8)),e.save(),e.beginPath(),e.arc(p,b,he,0,Math.PI*2),e.fillStyle=U,e.globalAlpha=Se,e.fill(),e.restore()}e.save(),e.beginPath(),e.arc(p,b,Z,0,Math.PI*2),e.fillStyle=m.color,e.shadowBlur=6,e.shadowColor=m.color,e.globalAlpha=.8,e.fill(),e.restore()}e.restore(),z=requestAnimationFrame(ie)}function oe(t,e){const f=n.value,h=f.getBoundingClientRect(),M=f.width/h.width,m=f.height/h.height;let p=(t-h.left)*M,b=(e-h.top)*m;return p=(p-w)/u,b=(b-x)/u,p=(p-y/u)/o,b=(b-k/u)/o,{x:p,y:b}}function re(t){if(!s)return;const{x:e,y:f}=oe(t.clientX,t.clientY);for(let h=0;h<_.length;h++){const M=_[h],m=e-M.x,p=f-M.y;if(Math.sqrt(m*m+p*p)<=Z+8){M.type===1?r.setFlag(!0):r.setVillage(!0);return}}}function ce(t){if(!s)return;const e=n.value,{x:f,y:h}=oe(t.clientX,t.clientY);let M=!1;for(let m=0;m<_.length;m++){const p=_[m],b=f-p.x,B=h-p.y;if(Math.sqrt(b*b+B*B)<=Z+8){M=!0;break}}e&&(e.style.cursor=M?"pointer":P?"grabbing":"grab")}function de(t){if(t.button!==0)return;P=!0,E=t.clientX,G=t.clientY;const e=n.value;e&&(e.style.cursor="grabbing")}function ue(t){P=!1;const e=n.value;e&&(e.style.cursor="grab")}function ve(){P=!1;const t=n.value;t&&(t.style.cursor="default")}function fe(t){if(!P)return;const e=t.clientX-E,f=t.clientY-G;E=t.clientX,G=t.clientY,w+=e,x+=f}function me(t){if(q||(q=setTimeout(()=>{q=null},20),t.preventDefault(),!s))return;const e=n.value,f=e.getBoundingClientRect(),h=e.width/f.width,M=e.height/f.height;let m=(t.clientX-f.left)*h,p=(t.clientY-f.top)*M;const b=(m-w)/u,B=(p-x)/u,N=t.deltaY>0?-.1:.1;let T=u+N;T=Math.max(V,Math.min(O,T)),T!==u&&(w=m-b*T,x=p-B*T,u=T)}function pe(){le(),ne()}return F(()=>{s=new window.Image,s.src=De,s.onload=()=>{be(()=>{le(),window.addEventListener("resize",pe),z=requestAnimationFrame(ie),n.value&&(n.value.addEventListener("click",re),n.value.addEventListener("mousemove",ce),n.value.addEventListener("mousedown",de),n.value.addEventListener("mouseup",ue),n.value.addEventListener("mouseleave",ve),n.value.addEventListener("mousemove",fe),n.value.addEventListener("wheel",me,{passive:!1}),n.value.style.cursor="grab")})}}),_e(()=>{window.removeEventListener("resize",pe),z&&cancelAnimationFrame(z),n.value&&(n.value.removeEventListener("click",re),n.value.removeEventListener("mousemove",ce),n.value.removeEventListener("mousedown",de),n.value.removeEventListener("mouseup",ue),n.value.removeEventListener("mouseleave",ve),n.value.removeEventListener("mousemove",fe),n.value.removeEventListener("wheel",me))}),(t,e)=>(L(),S("div",{ref_key:"containerRef",ref:R,class:"canvas-container"},[a("canvas",{ref_key:"canvasRef",ref:n},null,512),e[0]||(e[0]=a("div",{class:"mask"},null,-1))],512))}},ze=I(Ye,[["__scopeId","data-v-0bc35163"]]),We={__name:"mapPutWind",setup(g){const r=J(),{flagVillage:l}=te(r),i=v(null),c=v(!1),A=v(0),n=v(0),R=v({left:window.innerWidth/2,top:window.innerHeight/2});function s(d){if(!i.value)return;c.value=!0;const o=i.value.getBoundingClientRect();A.value=d.clientX-o.left,n.value=d.clientY-o.top,document.body.style.userSelect="none"}function C(d){if(c.value&&i.value){let o=d.clientX-A.value,y=d.clientY-n.value;const k=i.value.offsetWidth,u=i.value.offsetHeight;o=Math.max(0,Math.min(o,window.innerWidth-k)),y=Math.max(0,Math.min(y,window.innerHeight-u)),R.value={left:o,top:y}}}function _(){c.value=!1,document.body.style.userSelect=""}return H(l,d=>{d&&be(()=>{if(i.value){const o=i.value.offsetWidth,y=i.value.offsetHeight;R.value={left:(window.innerWidth-o)/2,top:(window.innerHeight-y)/2}}})}),F(()=>{window.addEventListener("mousemove",C),window.addEventListener("mouseup",_)}),_e(()=>{window.removeEventListener("mousemove",C),window.removeEventListener("mouseup",_)}),(d,o)=>Y(l)?(L(),S("div",{key:0,class:"put",ref_key:"putRef",ref:i,style:Ce({left:R.value.left+"px",top:R.value.top+"px"}),onMousedown:j(s,["self"])},[a("div",{class:"out",onClick:o[0]||(o[0]=y=>Y(r).setVillage(!1))}),o[1]||(o[1]=Le('<div class="line" data-v-d6ac99ed></div><div class="title" data-v-d6ac99ed>乡政府</div><div class="text" data-v-d6ac99ed><div class="pos" data-v-d6ac99ed>位置：XXXXXXXXXXXXXX</div><div class="phone" data-v-d6ac99ed>电话：12345678912</div></div>',3))],36)):we("",!0)}},He=I(We,[["__scopeId","data-v-d6ac99ed"]]),Ve="/assets/demo_map-CxOkfAmf.png",Ge="/assets/demo1-WZa8PW4f.png",qe="/assets/demo2-CIgm-GX_.png",Ne="/assets/code-B8BCGvM3.png",Ue={class:"back"},Ze={class:"popup-body"},Qe={class:"body-right"},je={class:"popup-card"},Je={class:"label"},Ke={__name:"put",setup(g){const r=J(),{flag:l,flagVillage:i,isFlagOn:c,isVillageOn:A}=te(r),n=Xe([{label:"设备编号：",value:"QGLRSY4900"},{label:"设备类型：",value:"项圈"},{label:"设备电量：",value:"98.38%"},{label:"总步数：",value:"4"},{label:"最后更新时间：",value:"2025-05-19 05:38:26"},{label:"养殖户名称：",value:"朱马别克·祖尔汗的养殖场"},{label:"养殖户联系人：",value:"朱马别克·祖尔汗"},{label:"养殖户联系方式：",value:"17794983555"},{label:"所属乡镇：",value:"阿热勒托别镇/阿热勒托别镇科克塔斯村"},{label:"详细地址：",value:"阿热勒托别镇科克塔斯村88号"}]);return(R,s)=>Y(l)?(L(),S("div",{key:0,class:"popup-mask",onClick:s[1]||(s[1]=j(C=>Y(r).setFlag(!0),["self"]))},[a("div",Ue,[a("button",{onClick:s[0]||(s[0]=j(C=>Y(r).setFlag(!1),["self"]))},"返回")]),a("div",Ze,[s[4]||(s[4]=a("div",{class:"body-left"},[a("div",{class:"map"},[a("img",{src:Ve,alt:""})])],-1)),a("div",Qe,[s[3]||(s[3]=a("div",{class:"head-image"},[a("img",{src:Ge,alt:""}),a("img",{src:qe,alt:""})],-1)),a("div",je,[(L(!0),S(W,null,Q(n,(C,_)=>(L(),S("div",{key:_,class:"info-row"},[a("span",Je,$(C.label),1),a("span",null,$(C.value),1)]))),128)),s[2]||(s[2]=a("div",{class:"info-row"},[a("span",{class:"label"},"溯源二维码："),a("div",{class:"code"},[a("img",{class:"qrcode",src:Ne,alt:""})])],-1))])])])])):we("",!0)}},et=I(Ke,[["__scopeId","data-v-dd25a450"]]),tt=g=>ae({url:"/getFarmInfoBarData"}),at=g=>ae({url:"/getFarmTypePieData"}),st=g=>ae({url:"/getAnimalCountByGovGroup"}),nt={class:"cont"},lt={class:"cont-left"},it={class:"Headcount"},ot={class:"TypesData"},rt={class:"BingData"},ct={class:"bottom"},dt={class:"cont-right"},ut={class:"axis"},vt={class:"bxis"},ft={__name:"platform",setup(g){const r=v({title:"全县绒山羊当季存拦数",en:"Traceability information"}),l=v({title:"全县养殖规模统计",en:"Quality traceability"}),i=v({title:"全县养殖户统计",en:"Annual Sales Volume Statistics"}),c=v({title:"全县养殖户统计",en:"Statistics of product sales types"}),A=v({title:"养殖牲畜统计",en:"Regional Sales Performance"}),n=v([[{name:"全县山羊存栏量",value:"80707(只)"},{name:"已佩戴设备",value:"3547(只)"},{name:"未佩戴数量",value:"55792(只)"}],[{name:"已鉴定",value:"21368(只)"}]]),R=v({tooltip:{trigger:"item"},legend:{top:"center",left:"75%",align:"left",textStyle:{color:"#fff"}},series:[{name:"面积占比",left:"0%",top:"10%",right:"15%",type:"pie",radius:["50%","70%"],avoidLabelOverlap:!0,itemStyle:{borderRadius:3,borderColor:"rgba(255,255,255,0)",borderWidth:2},label:{show:!0,formatter:`{b} 
{c} `,position:"outside",alignTo:"labelLine",distance:5,color:"#fff"},emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}},labelLine:{show:!0,length:10,length2:10},data:[{id:0,name:"50只",value:35},{id:1,name:"50-100只",value:55},{id:2,name:"101-200只",value:253},{id:3,name:"201-500只",value:195},{id:4,name:"501-1000只",value:22}]}]}),s=v({tooltip:{trigger:"item"},legend:{top:"center",top:"45%",left:"68%",align:"left",textStyle:{color:"#fff"}},series:[{name:"面积占比",top:"20%",left:"0%",right:"25%",type:"pie",radius:["0%","70%"],avoidLabelOverlap:!0,itemStyle:{borderColor:"rgba(255,255,255,0)"},label:{show:!0,formatter:`{b} 
{c} `,position:"outside",alignTo:"labelLine",distance:5,color:"#fff"},emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}},labelLine:{show:!0,length:10,length2:10},data:[{id:0,name:"已佩戴设备",value:60,itemStyle:{color:"#c2700d"}},{id:1,name:"未佩戴设备",value:55,itemStyle:{color:"#b3c615"}},{id:2,name:"核心群",value:253,itemStyle:{color:"#23949e"}}]}]}),C={已佩戴设备:"rgba(23, 55, 94, 0.7)",未佩戴设备:"rgba(32, 123, 116)",核心群:"rgba(35, 148, 158)"},_=O=>C[O]||"#ccc",d=async()=>{const w=(await at()).data.map(x=>({...x,value:x.num,name:x.name,itemStyle:{color:_(x.name)}}));s.value.series[0].data=w},o=v([0,20,40,60,80,100,120,140,160]),y=v({title:{},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{},grid:{left:"6%",right:"3%",bottom:"6%",top:"2%",containLabel:!0},xAxis:{type:"value",boundaryGap:[0,.01],splitLine:{show:!0,lineStyle:{type:"dashed",color:"#ccc"}},axisLabel:{interval:0,margin:5,rich:{a:{color:"#ffffff",align:"right",padding:[0,0,0,-15]},b:{color:"#666"}}},boundaryGap:[0,.01]},yAxis:{type:"category",axisLabel:{padding:[0,10,0,0]},data:[" 阿尔泰山镇 "," 布尔津乡 "," 喀纳斯湖乡 "," 禾木村乡 "," 白哈巴镇 "," 可可托海镇 "," 青河乡 "," 富蕴镇 "],dataZoom:[{type:"inside",yAxisIndex:0,start:0,end:50}]},series:[{type:"bar",itemStyle:{color:"#3270ab"},barWidth:"30%",data:o.value}]}),k=async()=>{const O=await tt(),w=O.data.map(E=>E.name),x=O.data.map(E=>E.num);y.value.yAxis.data=w,y.value.series[0].data=x},u=v({title:{},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"6%",right:"3%",bottom:"9%",top:"0%",containLabel:!0},xAxis:{type:"value",boundaryGap:[0,.01],splitLine:{show:!0,lineStyle:{type:"dashed",color:"#ccc"}},axisLabel:{interval:0,margin:5,rich:{a:{color:"#ffffff",align:"right",padding:[0,0,0,-15]},b:{color:"#666"}}}},yAxis:{type:"category",axisLabel:{padding:[0,10,0,0]},data:[" 阿尔泰山镇 "," 布尔津乡 "," 喀纳斯湖乡 "," 禾木村乡 "," 白哈巴镇 "," 可可托海镇 "," 青河乡 "," 富蕴镇 "],dataZoom:[{type:"inside",yAxisIndex:0,start:0,end:50}]},series:[{type:"bar",itemStyle:{color:"#3270ab"},barWidth:"30%",data:o.value}]}),V=async()=>{const O=await st(),w=O.data.map(E=>E.name),x=O.data.map(E=>E.num);u.value.yAxis.data=w,u.value.series[0].data=x};return F(()=>{k(),d(),V()}),(O,w)=>(L(),S(W,null,[X(ze),X(He),X(et),a("div",nt,[a("div",lt,[a("div",it,[X(D,{class:"title",title:r.value},null,8,["title"]),X(ke,{data:n.value},null,8,["data"])]),a("div",ot,[X(D,{class:"title",title:l.value},null,8,["title"]),X(ye,{data:R.value},null,8,["data"])]),a("div",rt,[X(D,{class:"title",title:i.value},null,8,["title"]),w[0]||(w[0]=a("div",{class:"head"},[a("span",{style:{"font-family":"'FONT236'"}},"主要养殖："),a("span",{style:{"font-family":"'FONT236'"}},"青格里绒山羊")],-1)),a("div",ct,[X(ye,{data:s.value},null,8,["data"])])])]),a("div",dt,[a("div",ut,[X(D,{title:c.value},null,8,["title"]),X($e,{data:y.value},null,8,["data"])]),a("div",vt,[X(D,{title:A.value},null,8,["title"]),X(Pe,{data:u.value},null,8,["data"])])])])],64))}},gt=I(ft,[["__scopeId","data-v-595e4591"]]);export{gt as default};
